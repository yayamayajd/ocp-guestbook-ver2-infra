namespace: jiadai-dev

backend:
  name: backend
  replicas: 2
  image: 
    repository: ghcr.io/yayamayajd/guestbook-api
    digest: 14d2a2703a9f77d49f7bb94d15e7428e574616dab4714a35f3bc14e1e695fd85
    imagePullPolicy: IfNotPresent
  containerPort: 8080

  livenessProbe:
    path: "/health"
    port: 8080
    initialDelaySeconds: 30
    periodSeconds: 10


  dbhost: "postgres"
  dbport: 5432
  dbuser: "guestbook"
  dbname: "guestbook"
  

  svcname: backend
  svcportname: http
  svcport: 8080
  targetPort: 8080
  svctype: ClusterIP

  redishost: redis
  redisport: 6379


frontend: 
  name: frontend
  replicas: 2
  image: 
    repository: ghcr.io/yayamayajd/guestbook-web
    digest: 58e09538bb0c31c54ca8b798cfebf6dcdd073972074b6681bc9105ff0d4d0650
    imagePullPolicy: IfNotPresent
  containerPort: 8080
  cmname: nginx-conf
  cmPath: /opt/app-root/etc/nginx.d/nginx.conf
  cmsubPath: nginx.conf

  svcname: frontend
  svcportname: web
  svcport: 8080
  targetPort: 8080
  svctype: ClusterIP


redis:
  name: redis
  replicas: 1
  image: 
    repository: quay.io/kurs/redis
    tag: latest
    imagePullPolicy: IfNotPresent
  containerPort: 6379
  
  svcname: redis
  svcportname: redis
  svcport: 6379
  svctargetPort: 6379
  svctype: ClusterIP





postgres:
  name: postgres
  image: 
    repository: quay.io/fedora/postgresql-16
    tag: latest
    pullPolicy: IfNotPresent
  replicas: 1
  containerPort: 5432
  minReadySeconds: 10
  terminationGracePeriodSeconds: 30
  mountPath: /var/lib/pgsql/data
  storagename: postgres-storage
  accessModes: "ReadWriteOnce"
  storageClassName: "gp3"
  storageSize: 1Gi

  user: guestbook
  database: guestbook


  svcname: postgres
  svcportname: http
  svcport: 5432
  targetPort: 5432




